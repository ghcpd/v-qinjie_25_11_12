<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Vulnerable UI - Pre Mitigation</title>
</head>
<body>
  <h1>Comment Box (Vulnerable)</h1>
  <form id="commentForm" action="/submit" method="post">
    <textarea name="comment" id="commentInput" rows="4" cols="50"></textarea><br>
    <button type="submit">Submit</button>
  </form>

  <h2>Comments (reflects raw input)</h2>
  <div id="comments">
    {% for c in comments %}
      <div class="comment">{{ c|safe }}</div>
    {% endfor %}
  </div>

  <h2>Debug Panel (contains secret API key)</h2>
  <div id="debug">API KEY: <span id="api-key">{{ api_key }}</span></div>

  <h2>DOM XSS demo</h2>
  <div id="hashArea"></div>
  <script>
    // intentionally expose key to global window â€” vulnerable pattern
    window.PUBLIC_API_KEY = "{{ api_key }}";
  </script>
  <script src="/static/js/vulnerable.js"></script>
</body>
</html>